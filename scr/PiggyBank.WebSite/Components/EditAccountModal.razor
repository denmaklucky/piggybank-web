@using PiggyBank.Common.Enums

@if (Account != null)
{
    <div class="modal" role="dialog" style="@ModalStyle">
        <div class="modal_header">
            <button class="close f_right" @onclick="OnHidden">×</button>
            <h1 class="font_size_16">Edit Account</h1>
        </div>
        <div class="modal_body">
            <div>
                <div class="m_bottom_5">
                    <label class="label">NAME</label>
                </div>
                <div class="w_calc_20">
                    <input class="textbox" value="@Account.Title" />
                </div>
            </div>
            <div>
                <div class="m_bottom_5">
                    <label class="label">Balance</label>
                </div>
                <div class="w_calc_20">
                    <input class="textbox" value="@Account.Balance" />
                </div>
            </div>
            <div>
                <div class="m_bottom_5">
                    <label class="label">Currency</label>
                </div>
                <div class="w_calc_20">
                    <input class="textbox" value="@Account.Currency" />
                </div>
            </div>
            <div>
                <div class="m_bottom_5">
                    <label class="label">Type</label>
                </div>
                <div>
                    <select class="combobox">
                        @foreach (var item in Enum.GetNames(typeof(AccountType)))
                        {
                            @if (Account.Type.ToString() == item)
                            {
                                <option selected>@item</option>
                            }
                            else
                            {
                                <option>@item</option>
                            }
                        }
                    </select>
                </div>
            </div>
        </div>
        <div class="modal_footer">
            <button class="success" @onclick="OnHidden">Save</button>
        </div>
    </div>

    <div class="@Class" />
}

@code {
    private const string DisplayNone = "display:none;";
    private const string DisplayBlock = "display:block;";
    private const string BackgroundClass = "modal_background";

    private string ModalStyle = DisplayBlock;
    private string Class = BackgroundClass;

    [Parameter]
    public AccountInfoDto Account { get; set; }

    public void OnHidden()
    {
        Class = "";
        ModalStyle = DisplayNone;
    }
}
