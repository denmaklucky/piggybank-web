@page "/accounts"
@inherits AccountSectionViewModel

<div class="row">
    <div class="@Class" style="width:100%">
        <div class="text-right">
            <button class="btn btn-success" @onclick="OnAddNewAccount">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" class="css-1sylyko ewy7k8y10">
                    <path fill="#ffffff" fill-rule="evenodd" d="M9 9V5.002a.999.999 0 1 1 2 0V9h3.998a.999.999 0 1 1 0 2H11v3.998a.999.999 0 1 1-2 0V11H5.002a.999.999 0 1 1 0-2H9z"></path>
                </svg> New account
            </button>
        </div>

        <br />

        @if (Model == null)
        {
            <span>You're haven't any accounts. Please create it!</span>
        }
        else
        {
            @foreach (var group in Model.GroupBy(a => a.Type).Select(g => new { g.Key, g }))
            {
                <h5>@group.Key</h5>
                foreach (var item in group.g)
                {
                    <AccountComponent Account="item" OnCardClick="@((args)=>OnCardClick(item.Id, args))" />
                }

                <br/>
            }
        }
    </div>
    <div class="@AccountViewClass">
        <Account Model="@SelectedItem" GoBack="OnCloseAccountView"/>
    </div>
</div>
